{
    "collab_server" : "",
    "contents" : "---\ntitle: \"Assignment 6\"\nauthor: \"Bongani Mveng\"\ndate: \"29 August 2016\"\noutput: github_document\n---\n\n##Hello Octocat\n\nI love Octocat. She's the coolest cat in town. \n\n![Octocat](https://dl.dropboxusercontent.com/u/11805474/painblogr/biostats/images/octocat.png)\n\n```{r quick_look, echo = TRUE}\ndata(anscombe)\ndim(anscombe)\ncolnames(anscombe)\nhead(anscombe)\ntail(anscombe)\nsummary(anscombe)\n```\n\n```{r xy_plot, echo = FALSE, fig.width = 8, fig.height = 8, fig.align = \"center\", fig.path = \"./figures.\", dev = \"svg\"}\n\ndata(\"anscombe\")\nlibrary(tidyr)\nlibrary(dplyr)\nlibrary(ggplot2)\nanscombe.nu <- select(anscombe, x1, y1)\nanscombe.nu\nplot(anscombe.nu$y1~anscombe.nu$x1,\n     main = \"Anscombe Scatterplot\",\n     xlab = \"x1\",\n     ylab = \"y1\",\n     ylim = c(3,12),\n     xlim = c(3, 15),\n     pch = 24)\nabline(lm(y1~x1, data = anscombe), col = \"green\")\n```\n\n```{r data_import, echo = TRUE}\ndf <- read.csv(\"analgesic.csv\")\n```\n\n```{r data_summary, echo = TRUE}\ndim(df)\ncolnames(df)\nhead(df)\ntail(df)\nsummary(df)\n```\n\n```{r data_tidy, echo = TRUE}\nlibrary(tidyr)\nlibrary(dplyr)\n# Tidy the data from a wide to long format \ndf.new <- gather(df, Replicate_reading, Measurement, Measurement_1:Measurement_3) \n\n# Group by the 'Group' column (\"Analgesic\", \"Placebo\")\ngrouped <- group_by(df.new, Group) \ngrouped\n\n# Group by the 'ID' column\ngrouped.2 <- group_by(grouped, ID)  \ngrouped.2\n\n# Get the mean for every individual's (\"ID\") measurements\nsum <- summarize(grouped.2, mean(Measurement)) \n\n# Print the final dataframe\nsum\n```\n\n\n\n\n#CHICKEN WEIGHTS\n\n##Null Hypothesis\n* No relationship exists between type of feed supplement and chick weight.\n\n##Alternative Hypothesis\n* The feed supplement most resemblant of the wild type nutrient will promote the highest weight gain in the chicks.\n```{r chicken_weights, echo = TRUE}\n\nlibrary(tidyr)\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(knitr)\n\n# import dataset\nchkwt <- read.csv(\"chkwts.csv\")\nchkwts <- tbl_df(chkwt)\nchkwts\n\n# Explore data with plots\nqplot(x = feed,\n      y = weight,\n      data = chkwts,\n      geom = \"boxplot\",\n      xlab = \"Feed\",\n      ylab = \"Weight (g)\",\n      main = \"Neonate chicks' weight per feed supplement type\")\n\n# Statistical Test (ANOVA)\nANO.VA <- aov(weight~feed, data = chkwts)\nsummary(ANO.VA)\n\n# Correct for multiple comparisons using Bonferroni post hoc test\npairwise.t.test(chkwts$weight, chkwts$feed,\n                p.adjust.method = 'bonferroni',\n                paired = FALSE)\n```\n\n##Test Assumptions\n* Gaussian distribution\n* Equal variance amongst groups\n* Independent errors\n* Data are unmatched\n\n##Outcome Analysis\n* Casein promotes the most growth out of all the feed supplements, while horsebean promotes the least. There is no statistical difference between the  casein, meat meal, and sunflower supplements, suggesting that the latter two are as statistically efficient in promoting growth. However, this does not signify biological efficiency. \n* Therefore, we reject the null hypothesis\n\n#THE HOT ZONE\n\n##Null Hypothesis \n* There is no relationship beween consumption of contaminated water and presentation with gastroenteritis. \n\n##Alternative Hypothesis \n* Consumption of contaminated water causes gastroenteritis. \n\n```{r the_hot_zone, echo = TRUE}\n\n\n# import dataset\ngastroe <- read.csv(\"hotzone.csv\")\ngastro <- tbl_df(gastroe)\nhead(gastro)\ntail(gastro)\n\n\n# Cross tabulate with xtabs\ngastroX <- xtabs(~Consumption + Outcome,\n      data = gastro)\ngastroX\n\n\n\n# plot gastroX\nbarplot(gastroX, beside = TRUE,\n        main = \"Relationship between gastroenteritis presentation and the amount of consumed contaminated water by people in a small town\",\n        xlab = \"Presentation\",\n        ylab = \"Number of People\",\n        col = c(\"black\", \"red\", \"grey\"))\n\npar(xpd = TRUE)\nlegend(\"topright\", c(\"< 1 glass/day\", \"< 4 glasses/day\", \"> 4 glasses/day\"), bty = \"n\", fill = c(\"black\", \"red\", \"grey\"))\n\n# Statistics (Pearson's Chi-squared Test)\n ChiSq <- chisq.test(gastroX, correct = FALSE)\n ChiSq\n```\n##Statistical Test\n* Pearson's Chi-square test\n* X-squared = 74.925, degrees of freedom = 2, p value < 2.2e-16\n\n### Test Assumptions:\n* random sampling\n* independent observations\n* large sample size\n* discrete probability in observed frequencies within the table can be estimated by the continuous X^2^ distribution\n\n##Outcome Analysis\n* The p value indicates a significant relationship between the amount of contaminated water consumed and whether or not a given individual presented with gastroenteritis. Namely, the amount of contaminated water consumed was directly proportional to gastroenteritis incidences.\n* Therefore, reject the null hypothesis.\n\n\n#NAUSEA\n\n##Null Hypothesis\n* Administration of 5HT3 receptor antagonist does not ameliorate nausea intensity. \n\n##Alternative Hypothesis\n* Administration of 5HT3 receptor antagonist decreases nausea intensity. \n```{r Nausea, echo = TRUE}\n# import data set\nnnausea <- read.csv(\"nausea.csv\")\nnausea <- tbl_df(nnausea)\nnausea\n\n# Assuming that that the '40' in the dataset is an error (given that it exceeds the pain scale), I've changed it to '4'.\n\nnausea[8,3] = 4\nnausea\n\n# plot dataset\nplot(nausea$Nausea_before~nausea$Patient,\n     col = \"red\",\n     type = \"o\",\n     ylim = c(0,6),\n     ylab = \"Nausea Rating\",\n     xlab = \"Patient\",\n     main = \"Nausea intensity ratings before and after administration of a 5HT# receptor antagonist\")\nlines(nausea$Nausea_after~nausea$Patient)\npoints(nausea$Nausea_after~nausea$Patient)\nlegend(4,6, c(\"Nausea before\", \"Nausea after\"), fill = c(\"red\", \"black\"))\n\n# Statistical test (Wilcoxin Signed-rank test)\nwilcox.test(nausea$Nausea_before, nausea$Nausea_after, paired = TRUE)\n```\n\n## Statistical Test\n* Wilcoxin signed-rank test\n\n###Test Assumptions:\n* central limit theorem applies  \n* independent errors\n* effective data matching \n\n##Outcome Analysis\n* Ratings of nausea intensity significantly decreased following adminisatration of the 5HT3 receptor antagonist. Therefore, reject the null hypothesis.\n\n#HOUSE PRICES\n\n##Null Hypothesis \n* No relationship exists between the interest rate and the price of housing.\n\n##Alternative Hypothesis\n* An inversely proportional relationship exists between the interest rate and the price of housing.\n\n##Statitstical Test 1 (Spearman Correlation)\n\n###Test Assumptions:\n* variables are measured on using ordinal, ratio, or interval scales\n* a monotonic relationship exists between the variables (i.e the variables are proportional to one another, but not at the same rate).\n\n##Statistical Test 2 (Linear Regression)\n\n###Test Assumptions: \n* linear relationship between the variables\n* independent observations\n* *x* variable measured without error\n* normally distributed residuals\n* homoskedastic residuals\n\n```{r house_prices, echo = TRUE}\nlibrary(tidyr)\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(knitr)\n\n\n# view the dataset\nhouse_price <- read.csv(\"hspri.csv\")\nhspri <- tbl_df(house_price)\nhspri\n\n# explore dataset with plots\n\n\np <- qplot(x = interest_rate,\n      y = median_house_price_USD,\n      data = hspri,\n      main = \"Relationship between interest rates and median house prices in the U.S.A\",\n      xlab = \"Interest Rate (%)\",\n      ylab = \"Median House Prices ($)\")\n# annotate the plot with r coefficient and p-value \np + annotate(\"text\", x = 9, y = 300000, label = \"r = -0.4\") + annotate(\"text\", x = 9, y = 290000, label = \"p = 0.08\") + theme(plot.title =element_text(size = 12, face = 'bold'))\n\n\n\n# perform Spearman Correlation\nhspri.cor <- with(hspri, cor.test(x = interest_rate, y = median_house_price_USD, method = 'spearman'))\n\n# print summary of the correlation\nhspri.cor\n\n# perform and print  summary of linear regression\nhspri.reg <- lm(median_house_price_USD~interest_rate, data = hspri)\nsummary(hspri.reg)\n\n# to view subsequent regression diagnostic graphs witin a single plot\npar(mfrow = c(1,2), mtext(\"Diagnostic plots for linear regression analysis\", outer = TRUE)\n\n# perform diagnostic plot to check for homoskedasticity of residuals\nplot(x = hspri.reg$fitted.values,\n     y = hspri.reg$residuals,\n     xlab = \"Fitted Values\",\n     ylab = \"Residuals\",\n     main = \"Heteroskedasticity of residuals\")\nabline(h = 0)\n# perform diagnostic plot to check for normality of residuals\nqqnorm(hspri.reg$residuals, main = \"Skewed residual distribution\")\nqqline(hspri.reg$residuals)\n```\n\n\n##Outcome Analysis\n* The plot and Spearman Correlation test shows that a weak negative inverse correlation (_r_ = -0.4) exists between the measured variales.. A _p_ value of 0.08 inidicates that the chances of obtaining the observed _r_ value (assuming _H=0_ is true) are significantly high.\n* There is no linear  relationship between the variables, as the diagnostic tests show no homoskedasticity or Gaussian distribution of the residuals. Both these parameters are required assumptions for a linear regression. in addition to theses, a linear trend is not apparent from the plot. ",
    "created" : 1472041833919.000,
    "dirty" : true,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3153579503",
    "id" : "AB440A7",
    "lastKnownWriteTime" : 1472127409,
    "last_content_update" : 1472127783910,
    "path" : "~/STATS STUFF/Course-mark Assignment 6/Course-mark Assignment 6/README.Rmd",
    "project_path" : "README.Rmd",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}